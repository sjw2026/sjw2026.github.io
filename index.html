<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>sjw2026</title>

<style>
:root{
  --bg0:#070a10;
  --bg1:#0b1020;
  --stroke:rgba(255,255,255,.10);
  --text:rgba(255,255,255,.88);
  --muted:rgba(255,255,255,.55);
  --shadow:0 18px 40px rgba(0,0,0,.45);
  --radius:16px;
  --sidebarW:74px;
}
*{box-sizing:border-box;}
html,body{height:100%;}
body{
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR",sans-serif;
  color:var(--text);
  background:
    radial-gradient(1100px 800px at 10% -10%, rgba(79,140,255,.22), transparent 55%),
    radial-gradient(900px 700px at 95% 0%, rgba(176,106,255,.18), transparent 60%),
    linear-gradient(180deg,var(--bg1),var(--bg0));
}

/* ===== Layout ===== */
.wrap{
  max-width:1440px;
  margin:0 auto;
  padding:18px 14px 30px;
  padding-left:calc(14px + var(--sidebarW));
}

/* ===== Top ===== */
.topbar{
  display:flex;
  gap:12px;
  align-items:stretch;
  margin-bottom:14px;
}
.slot{
  border-radius:var(--radius);
  border:1px solid var(--stroke);
  background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03));
  box-shadow:var(--shadow);
  backdrop-filter:blur(10px);
  padding:12px;
}
.stack-slot{
  flex:2 1 740px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.weather-slot{
  flex:1 1 320px;
  display:flex;
}

/* ===== Search ===== */
.search-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}
.search{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(10,14,22,.55);
}
.search input{
  flex:1;
  background:none;
  border:0;
  outline:none;
  color:var(--text);
}

/* ===== Calendar + Memo ===== */
.bottom-row{
  flex:1;
  display:flex;
  gap:12px;
}
.calendar-inner,
.memo-inner{
  flex:1;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(7,10,16,.85);
  overflow:hidden;
  min-height: 320px; /* ìƒë‹¨ ê· í˜• */
}
.calendar-inner iframe{
  width:100%;
  height:100%;
  border:0;
  filter:brightness(.82);
}

/* ===== Memo (Todo) ===== */
.memo-inner{
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.memo-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.memo-title{ font-weight:700; }
.memo-date{ color:var(--muted); font-size:12px; }

.todo-input{
  width:100%;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(10,14,22,.55);
  color:rgba(255,255,255,.88);
  outline:none;
  font-size:14px;
}
.todo-input::placeholder{ color:rgba(255,255,255,.45); }

.todo-list{
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  flex-direction:column;
  gap:8px;
  overflow:auto;
}
.todo-item{
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
}
.todo-item.done{
  opacity:.45;
  text-decoration:line-through;
}
.todo-check{ cursor:pointer; user-select:none; }
.todo-text{ flex:1; font-size:14px; }
.todo-priority{ cursor:pointer; user-select:none; }
.todo-delete{ cursor:pointer; opacity:.65; user-select:none; }
.todo-delete:hover{ opacity:1; }

/* ===== Weather ===== */
.weather{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:8px;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(10,14,22,.55);
  padding:12px;
}
.weather-top{
  display:flex;
  justify-content:space-between;
}
.weather-city{ font-size:18px; font-weight:600; }
.weather-temp{ font-size:42px; font-weight:700; line-height:1; }
.weather-desc{ font-size:12px; color:var(--muted); }
.weather-kv{ display:flex; gap:8px; flex-wrap:wrap; }

/* 3ì‹œê°„ ë‹¨ìœ„ íƒ€ì„ë¼ì¸ */
.weather-hours{
  display:flex;
  gap:6px;
  margin-top:8px;
}
.hour{
  flex:1;
  text-align:center;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.03);
  padding:6px 4px;
  font-size:11px;
}
.hour .t{ font-size:13px; font-weight:600; }

/* ===== Link Grid ===== */
.grid{
  display:grid;
  grid-template-columns:repeat(6,minmax(180px,1fr));
  gap:12px;
  margin-top:14px;
}
@media (max-width:1280px){
  .grid{ grid-template-columns:repeat(3,minmax(200px,1fr)); }
}
@media (max-width:720px){
  .grid{ grid-template-columns:1fr; }
}
.card{
  border-radius:var(--radius);
  border:1px solid var(--stroke);
  background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));
  box-shadow:var(--shadow);
  padding:12px;
  min-height: 210px;
}
.links{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.links a{
  color:var(--text);
  text-decoration:none;
  display:flex;
  align-items:center;
  gap:10px;
  padding:8px 10px;
  border-radius:12px;
  background:rgba(255,255,255,.02);
  border:1px solid transparent;
  transition: .12s ease;
}
.links a:hover{
  border-color:rgba(155,188,255,.22);
  background:rgba(155,188,255,.10);
  transform: translateY(-1px);
}
.dot{
  width:7px;height:7px;
  border-radius:50%;
  background:#9bbcff;
}

footer{
  margin-top:14px;
  font-size:12px;
  color:var(--muted);
  display:flex;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
}
</style>
</head>

<body>
<div class="wrap">

  <!-- TOP -->
  <div class="topbar">

    <div class="slot stack-slot">
      <div class="search-grid">
        <form class="search" action="https://www.google.com/search" target="_blank">
          <input name="q" placeholder="Google ê²€ìƒ‰">
        </form>
        <form class="search" action="https://search.naver.com/search.naver" target="_blank">
          <input name="query" placeholder="Naver ê²€ìƒ‰">
        </form>
        <form class="search" action="https://www.youtube.com/results" target="_blank">
          <input name="search_query" placeholder="YouTube ê²€ìƒ‰">
        </form>
      </div>

      <div class="bottom-row">
        <div class="calendar-inner">
          <iframe
            title="Google Calendar Agenda"
            src="https://calendar.google.com/calendar/embed?mode=AGENDA&showTitle=0&showPrint=0&showCalendars=0&showTabs=0&showTz=0&wkst=1&ctz=Asia%2FSeoul&src=shineway2011%40gmail.com">
          </iframe>
        </div>

        <div class="memo-inner">
          <div class="memo-head">
            <div class="memo-title">ì˜¤ëŠ˜ í•  ì¼</div>
            <div class="memo-date" id="memoDate"></div>
          </div>

          <input id="todoInput" class="todo-input" placeholder="í•  ì¼ì„ ì…ë ¥í•˜ê³  Enter" autocomplete="off">
          <ul class="todo-list" id="todoList"></ul>
        </div>
      </div>
    </div>

    <!-- WEATHER -->
    <div class="slot weather-slot">
      <div class="weather">
        <div class="weather-top">
          <div class="weather-city">ì„œìš¸</div>
          <div id="weatherTime">--</div>
        </div>

        <div>
          <div class="weather-temp" id="weatherTemp">--Â°</div>
          <div class="weather-desc" id="weatherDesc">ë¡œë”©ì¤‘</div>
        </div>

        <div class="weather-kv">
          <div id="weatherWind">ë°”ëŒ --</div>
          <div id="weatherHum">ìŠµë„ --</div>
        </div>

        <div class="weather-hours" id="weatherHours"></div>
      </div>
    </div>

  </div>

  <!-- âœ… ë§í¬ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
  <div class="grid" id="grid"></div>

  <footer>
    <div>Â© sjw2026</div>
    <div>ë§í¬ ìˆ˜ì •ì€ <code>LINK_SECTIONS</code>ë§Œ</div>
  </footer>

</div>

<script>
/* =========================
   ë§í¬ ì„¹ì…˜ (ë„¤ê°€ ì“°ë˜ í’€ë²„ì „)
   ========================= */
const LINK_SECTIONS = [
  { items: [
    { label: "êµ¬ê¸€ ìº˜ë¦°ë”", url: "https://calendar.google.com/calendar/r" },
    { label: "ì„œì§„ìš± ê¸°ì", url: "https://media.naver.com/journalist/008/31377" },
    { label: "ì™€ì´íŒŒì´ë ˆí„°", url: "https://ictwifi.stibee.com/" },
    { label: "ë„¤ì´ë²„ ë‰´ìŠ¤", url: "https://news.naver.com/" },
    { label: "ì•„ë¬´íŠ¼ ì£¼ë§", url: "https://www.chosun.com/nsearch/?query=%EC%95%84%EB%AC%B4%ED%8A%BC%2C%20%EC%A3%BC%EB%A7%90&page=1&siteid=&sort=1&date_period=&date_start=&date_end=&writer=&field=&emd_word=&expt_word=&opt_chk=false&app_check=0&website=www,chosun&category=" },
    { label: "ì¹¼ëŸ¼", url: "https://news.naver.com/main/opinion/todayColumn.nhn" }
  ]},

  { items: [
    { label: "ê¸°ì‚¬ ì…ë ¥ê¸°", url: "https://mod.mt.co.kr/login" },
    { label: "ë¨¸ë‹ˆíˆ¬ë°ì´", url: "http://www.mt.co.kr/" },
    { label: "ë¨¸íˆ¬ í¬ë°", url: "https://mpd.mt.co.kr/" },
    { label: "ë¨¸íˆ¬ ì¸íŠ¸ë¼", url: "http://intra.mt.co.kr/login.html" },
    { label: "ë¨¸íˆ¬ ë©”ì¼", url: "https://outlook.office.com/owa/?realm=mt.co.kr&exsvurl=1&ll-cc=1042&modurl=0" },
    { label: "êµ¬ê¸€ ë©”ì¼", url: "https://mail.google.com/mail/u/0/#inbox" }
  ]},

  { items: [
    { label: "êµ¬ê¸€ ë“œë¼ì´ë¸Œ", url: "https://drive.google.com/drive/my-drive" },
    { label: "ë„¤ì´ë²„ ì‚¬ì „", url: "https://dict.naver.com/" },
    { label: "êµ¬ê¸€ ë²ˆì—­ê¸°", url: "https://translate.google.com/" },
    { label: "ë„¤ì´ë²„ ë²ˆì—­ê¸°", url: "https://papago.naver.com/" },
    { label: "êµ¬ê¸€ ì§€ë„", url: "https://www.google.co.kr/maps" },
    { label: "ë„¤ì´ë²„ ì§€ë„", url: "https://map.naver.com/" }
  ]},

  { items: [
    { label: "ì˜ì•ˆ ì •ë³´ ì‹œìŠ¤í…œ", url: "http://likms.assembly.go.kr/bill/main.do" },
    { label: "ì˜ì‚¬ ì¼ì •", url: "https://www.assembly.go.kr/portal/na/agenda/agendaSchl.do?menuNo=600015" },
    { label: "ì˜ì‚¬ì¤‘ê³„ì‹œìŠ¤í…œ", url: "http://assembly.webcast.go.kr/" },
    { label: "ì™¸êµ­ ì…ë²• ì •ë³´", url: "https://law.nanet.go.kr/foreignlaw/newForeignLawissue/list.do?isMenu=Y" },
    { label: "ì…ë²•ì¡°ì‚¬ì²˜ ë³´ê³ ì„œ", url: "https://www.nars.go.kr/report/list.do?cmsCode=CM0043" },
    { label: "ë¬´ë£Œ ì´ë¯¸ì§€-í”½ì‚¬ë² ì´", url: "https://pixabay.com/" }
  ]},

  { items: [
    { label: "ê³¼ê¸°ë¶€ ë³´ë„ìë£Œ", url: "https://www.msit.go.kr/bbs/list.do?sCode=user&mPid=238&mId=113" },
    { label: "ë¬¸ì²´ë¶€ ë³´ë„ìë£Œ", url: "https://www.mcst.go.kr/kor/s_notice/press/pressList.jsp" },
    { label: "ë°©í†µìœ„ ë³´ë„ìë£Œ", url: "https://kcc.go.kr/user.do?boardId=1113&page=A05030000&dc=K05030000" },
    { label: "ê³µì •ìœ„ ë³´ë„ìë£Œ", url: "https://www.ftc.go.kr/www/ReportUserList.do?key=10&rpttype=1" },
    { label: "êµ­íšŒ ê³¼ë°©ìœ„", url: "https://science.na.go.kr:444/science/index.do" },
    { label: "êµ­íšŒ ì •ë¬´ìœ„", url: "https://policy.na.go.kr:444/policy/index.do?extendedParam=site_id=policy" }
  ]},

  { items: [
    { label: "ì „ìê³µì‹œì‹œìŠ¤í…œ", url: "http://dart.fss.or.kr/" },
    { label: "ì™€ì´ì¦ˆë¦¬í¬íŠ¸", url: "https://www.wisereport.co.kr/" },
    { label: "ì¸ë² ìŠ¤íŒ…ë‹·ì»´", url: "https://kr.investing.com/indices/major-indices" },
    { label: "Finviz", url: "https://finviz.com/" },
    { label: "ê±°ë˜ì†Œ ë°ì´í„°", url: "http://data.krx.co.kr/contents/MDC/MAIN/main/index.cmd" },
    { label: "ì˜ˆíƒì› ì„¸ì´ë¸Œë¡œ", url: "https://seibro.or.kr/websquare/control.jsp?w2xPath=/IPORTAL/user/index.xml" }
  ]},

  { items: [
    { label: "ë‚´ ë¸”ë¡œê·¸", url: "https://blog.naver.com/shineway2011" },
    { label: "ìì‚°ê°€ê³„ë¶€", url: "https://docs.google.com/spreadsheets/d/1gKxQ71ADmEp7YG6jZejnL1Bj7zIZk7iplqZvtZYWNqM/edit?gid=0#gid=0" },
    { label: "ë„¤ì´ë²„ ì¦ê¶Œ", url: "https://finance.naver.com/sise/" },
    { label: "KRX ë°ì´í„°", url: "http://data.krx.co.kr/contents/MDC/MAIN/main/index.cmd" }
  ]},

  { items: [
    { label: "í¼í”Œë ‰ì‹œí‹°", url: "https://www.perplexity.ai/" },
    { label: "ì±—GPT", url: "https://chatgpt.com/" },
    { label: "ë§í¬ë“œì¸", url: "https://www.linkedin.com/feed/" },
    { label: "ì •ì±… ë¸Œë¦¬í•‘", url: "https://www.korea.kr/news/policyNewsList.do" }
  ]},

  { items: [
    { label: "ìœ„í´ë¦¬ë¹„ì¦ˆ", url: "http://weeklybiz.chosun.com/" },
    { label: "ì»¤í”¼íŒŸ", url: "https://coffeepot.me/" },
    { label: "ë¯¸ë¼í´ë ˆí„°", url: "https://mirakle.mk.co.kr/list.php?sc=51800017" },
    { label: "ë”¥ë‹¤ì´ë¸Œ", url: "https://www.donga.com/news/Series/70010000001020" },
    { label: "ë‹¨ë…", url: "https://search.naver.com/search.naver?sm=tab_hty.top&where=news&ssc=tab.news.all&query=%5B%EB%8B%A8%EB%8F%85%5D&oquery=%5B%EB%8B%A8%EB%8F%85%5D&tqi=iHb7rdpzL8wssAcB4%2BNssssstpZ-249659&nso=so%3Ar%2Cp%3Aall%2Ca%3Aall&service_area=1&sort=0" },
    { label: "ì†ë³´", url: "https://search.naver.com/search.naver?where=news&query=%5B%EC%86%8D%EB%B3%B4%5D&sm=tab_opt&sort=1&photo=0&field=0&pd=0&ds=&de=&docid=&related=0&mynews=0&office_type=0&office_section_code=0&news_office_checked=&nso=so%3Add%2Cp%3Aall&is_sug_officeid=0&office_category=0&service_area=1" }
  ]},

  { items: [
    { label: "ìœ íŠœë¸Œ ì¸ê¸‰ë™", url: "https://www.youtube.com/feed/trending?bp=6gQJRkVleHBsb3Jl" },
    { label: "êµ¬ê¸€ íŠ¸ë Œë“œ", url: "https://trends.google.co.kr/trending?geo=KR&hl=ko" },
    { label: "ë¹…ì¹´ì¸ì¦ˆ", url: "https://www.bigkinds.or.kr/" },
    { label: "ëŒ€ë‚´20ëŒ€ì—°êµ¬ì†Œ", url: "https://www.20slab.org/Column" },
    { label: "êµë³´ ë² ì…€", url: "https://store.kyobobook.co.kr/bestseller/online/daily?page=1" }
  ]},

  { items: [
    { label: "ì§€ë””ë„·ì½”ë¦¬ì•„", url: "https://zdnet.co.kr/" },
    { label: "í…Œí¬í¬ëŸ°ì¹˜", url: "https://techcrunch.com/" },
    { label: "ë”ë²„ì§€", url: "https://www.theverge.com/" },
    { label: "ì»´í“¨í„°ì›”ë“œ", url: "https://www.computerworld.com/news/" },
    { label: "ë„¤ì´ë²„ IT ë‰´ìŠ¤", url: "https://news.naver.com/main/main.nhn?mode=LSD&mid=shm&sid1=105" }
  ]},

  { items: [
    { label: "ì½”ì¸ë§ˆì¼“ìº¡", url: "https://coinmarketcap.com/ko/" },
    { label: "ì—…ë¹„íŠ¸", url: "https://upbit.com/exchange?code=CRIX.UPBIT.KRW-BTC" },
    { label: "ë¹—ì¸", url: "https://www.bithumb.com/trade/order/BTC_KRW" },
    { label: "ìŸê¸€ ë¦¬ì„œì¹˜", url: "https://xangle.io/insight/research" },
    { label: "ì½”ë¹— ë¦¬ì„œì¹˜", url: "https://www.korbit.co.kr/market/research" }
  ]},

  { items: [
    { label: "ìŠ¤í‹°ë¹„", url: "https://www.stibee.com/" },
    { label: "ë¸ŒëŸ°ì¹˜", url: "https://brunch.co.kr/@shineway2011" },
    { label: "ë„¤ì´ë²„ ë¸”ë¡œê·¸", url: "https://blog.naver.com/shineway2011" },
    { label: "í´ë¡œë°”ë…¸íŠ¸", url: "https://clovanote.naver.com/" }
  ]},

  { items: [
    { label: "ë°”ì´ë¸Œ", url: "https://vibe.naver.com/today" },
    { label: "ìœ íŠœë¸Œ", url: "https://www.youtube.com/" },
    { label: "í˜ì´ìŠ¤ë¶", url: "https://www.facebook.com/" },
    { label: "ë§í¬ë“œì¸", url: "https://www.linkedin.com/feed/" },
    { label: "ì¸ìŠ¤íƒ€ê·¸ë¨", url: "https://www.instagram.com/seowoog/" },
    { label: "íŠ¸ìœ„í„°", url: "https://twitter.com/" }
  ]},

  { items: [
    { label: "ìŠ¤í¬í‹°ë¹„", url: "https://www.spotvnow.co.kr/" },
    { label: "í‹°ë¹™", url: "https://www.tving.com/onboarding" },
    { label: "ë„·í”Œë¦­ìŠ¤", url: "https://www.netflix.com/browse" },
    { label: "ì¿ íŒ¡í”Œë ˆì´", url: "https://play.coupang.com/" },
    { label: "ë””ì¦ˆë‹ˆí”ŒëŸ¬ìŠ¤", url: "https://www.disneyplus.com/ko-kr" },
    { label: "ìƒ¥í†¡", url: "https://sharktalk.imweb.me/index" }
  ]},

  { items: [
    { label: "ì½˜í…ì¸ ì§„í¥ì›", url: "http://www.kocca.kr/cop/bbs/list/B0000147.do?menuNo=201825" },
    { label: "ì •ë³´í†µì‹ ì •ì±…ì—°êµ¬ì›", url: "https://www.kisdi.re.kr/index.do" },
    { label: "IT íŒŒì¸ë“œ", url: "http://www.itfind.or.kr/main.do" },
    { label: "ë³´ê³ ì„œ ëª¨ìŒ-SERI", url: "http://www.seri.org/ic/icRPdsZoneL.html?g_menu=06&s_menu=0613" },
    { label: "TED", url: "https://www.ted.com/talks?language=ko" }
  ]},

  { items: [
    { label: "ë„¤ì´ë²„ ì¥ë³´ê¸°", url: "https://shopping.naver.com/ns/home" },
    { label: "ë‚´ ë¸”ë¡œê·¸-ë¹„ë§ë¡", url: "https://blog.naver.com/shineway0102" },
    { label: "ë„¤ì´ë²„ì›¹íˆ°", url: "https://comic.naver.com/webtoon/weekday.nhn" }
  ]},

  { items: [
    { label: "ëª¨ë‘ì˜ í’‹ì‚´", url: "https://cafe.naver.com/haha999" },
    { label: "ì„œê²½ì¶•êµ¬í´ëŸ½", url: "https://cafe.daum.net/skfootball/IxUe" },
    { label: "ëŒ€í•œë¯¼êµ­FC", url: "https://cafe.daum.net/soxxer/WM9W" },
    { label: "ì„œìš¸ì‹œ ì˜ˆì•½", url: "http://yeyak.seoul.go.kr/main.web" }
  ]}
];

function renderLinks(){
  const grid = document.getElementById("grid");
  if(!grid) return;
  grid.innerHTML = "";

  for(const section of LINK_SECTIONS){
    const card = document.createElement("section");
    card.className = "card";

    const ul = document.createElement("ul");
    ul.className = "links";

    for(const item of (section.items || [])){
      if(!item?.label || !item?.url) continue;

      const li = document.createElement("li");
      const a = document.createElement("a");
      a.href = item.url;
      a.target = "_blank";
      a.rel = "noopener noreferrer";

      const dot = document.createElement("span");
      dot.className = "dot";

      const text = document.createElement("span");
      text.textContent = item.label;

      a.appendChild(dot);
      a.appendChild(text);
      li.appendChild(a);
      ul.appendChild(li);
    }

    card.appendChild(ul);
    grid.appendChild(card);
  }
}

/* =========================
   Todo (ì €ì¥í˜•)
   ========================= */
const TODO_KEY = "sjw2026_todo_list_v1";
const PRIORITY = ["â–«ï¸","â­","ğŸ”¥"];

function todayLabel(){
  const d = new Date();
  const w = ["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "][d.getDay()];
  return `${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()} (${w})`;
}

function loadTodos(){ return JSON.parse(localStorage.getItem(TODO_KEY) || "[]"); }
function saveTodos(todos){ localStorage.setItem(TODO_KEY, JSON.stringify(todos)); }

function renderTodos(){
  const ul = document.getElementById("todoList");
  const todos = loadTodos();
  ul.innerHTML = "";

  const sorted = [...todos.filter(t=>!t.done), ...todos.filter(t=>t.done)];
  sorted.forEach((t, idxSorted) => {
    const li = document.createElement("li");
    li.className = "todo-item" + (t.done ? " done" : "");

    li.innerHTML = `
      <span class="todo-check">âœ”</span>
      <span class="todo-text"></span>
      <span class="todo-priority"></span>
      <span class="todo-delete">âœ•</span>
    `;
    li.querySelector(".todo-text").textContent = t.text;
    li.querySelector(".todo-priority").textContent = PRIORITY[t.p ?? 1];

    li.querySelector(".todo-check").onclick = () => {
      // ì›ë³¸ todosì—ì„œ ê°™ì€ í•­ëª© ì°¾ê¸°
      const todos2 = loadTodos();
      const targetIndex = todos2.findIndex(x => x.id === t.id);
      if(targetIndex > -1){
        todos2[targetIndex].done = !todos2[targetIndex].done;
        saveTodos(todos2);
        renderTodos();
      }
    };

    li.querySelector(".todo-priority").onclick = () => {
      const todos2 = loadTodos();
      const targetIndex = todos2.findIndex(x => x.id === t.id);
      if(targetIndex > -1){
        todos2[targetIndex].p = ((todos2[targetIndex].p ?? 1) + 1) % PRIORITY.length;
        saveTodos(todos2);
        renderTodos();
      }
    };

    li.querySelector(".todo-delete").onclick = () => {
      const todos2 = loadTodos().filter(x => x.id !== t.id);
      saveTodos(todos2);
      renderTodos();
    };

    ul.appendChild(li);
  });
}

/* =========================
   Weather (ì•ˆì „ ë²„ì „ + 3ì‹œê°„)
   ========================= */
const SEOUL = { lat:37.5665, lon:126.978 };

function wc(code){
  return {
    0:"â˜€ï¸",1:"ğŸŒ¤",2:"â›…",3:"â˜ï¸",
    45:"ğŸŒ«",48:"ğŸŒ«",
    51:"ğŸŒ¦",53:"ğŸŒ¦",55:"ğŸŒ¦",
    61:"ğŸŒ§",63:"ğŸŒ§",65:"ğŸŒ§",
    71:"â„ï¸",73:"â„ï¸",75:"â„ï¸"
  }[code] || "ğŸŒ¥";
}

async function loadWeather(){
  const elTemp  = document.getElementById("weatherTemp");
  const elDesc  = document.getElementById("weatherDesc");
  const elWind  = document.getElementById("weatherWind");
  const elHum   = document.getElementById("weatherHum");
  const elTime  = document.getElementById("weatherTime");
  const elHours = document.getElementById("weatherHours");

  try{
    const url = `https://api.open-meteo.com/v1/forecast?latitude=${SEOUL.lat}&longitude=${SEOUL.lon}&current=temperature_2m,weather_code,wind_speed_10m,relative_humidity_2m&hourly=temperature_2m,weather_code&timezone=Asia%2FSeoul`;
    const r = await fetch(url);
    const j = await r.json();
    const c = j.current;

    elTemp.textContent = c.temperature_2m + "Â°";
    elDesc.textContent = wc(c.weather_code);
    elWind.textContent = "ë°”ëŒ " + c.wind_speed_10m + "km/h";
    elHum.textContent  = "ìŠµë„ " + c.relative_humidity_2m + "%";
    elTime.textContent = c.time.slice(11,16);

    const nowH = new Date(c.time).getHours();
    elHours.innerHTML = "";

    // "ì§€ê¸ˆ ì´í›„" 3ì‹œê°„ ê°„ê²© 4ì¹¸
    for(let i=0;i<j.hourly.time.length;i++){
      const t = j.hourly.time[i];
      const h = new Date(t).getHours();

      if(h >= nowH && h % 3 === 0 && elHours.children.length < 4){
        const d = document.createElement("div");
        d.className = "hour";
        d.innerHTML = `${h}ì‹œ<br>${wc(j.hourly.weather_code[i])}<div class="t">${j.hourly.temperature_2m[i]}Â°</div>`;
        elHours.appendChild(d);
      }
    }
  }catch(e){
    elDesc.textContent = "ë‚ ì”¨ ë¡œë”© ì‹¤íŒ¨";
  }
}

/* =========================
   ë¶€íŒ…
   ========================= */
document.addEventListener("DOMContentLoaded", () => {
  // links
  renderLinks();

  // todo
  const dateEl = document.getElementById("memoDate");
  if(dateEl) dateEl.textContent = todayLabel();

  const input = document.getElementById("todoInput");
  input.addEventListener("keydown", e => {
    if(e.key === "Enter" && e.target.value.trim()){
      const todos = loadTodos();
      todos.unshift({
        id: crypto?.randomUUID ? crypto.randomUUID() : String(Date.now()) + Math.random(),
        text: e.target.value.trim(),
        done: false,
        p: 1
      });
      saveTodos(todos);
      e.target.value = "";
      renderTodos();
    }
  });
  renderTodos();

  // weather
  loadWeather();
});
</script>

</body>
</html>
